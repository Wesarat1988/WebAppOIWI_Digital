@inherits LayoutComponentBase

<div class="layout-container @(isOpen ? "menu-open" : null)">
    <button class="menu-button"
            @onclick="ToggleMenu"
            aria-label="Open menu"
            aria-expanded="@isOpen"
            aria-controls="main-sidepanel">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>

    <div class="overlay @(isOpen ? "show" : string.Empty)" @onclick="CloseMenu"></div>

    <aside id="main-sidepanel"
           class="sidepanel @(isOpen ? "open" : string.Empty)"
           role="navigation"
           aria-hidden="@(!isOpen)">
        <div class="sidepanel__inner">
            <header class="sidepanel__brand">
                <span class="sidepanel__appname">WepAppOIWI Digital</span>
                <span class="sidepanel__tagline">‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏õ</span>
            </header>

            <NavMenu OnNavigate="CloseMenu" />
        </div>
    </aside>

    <main class="main-content" aria-live="polite">
        <div class="content-surface">
            @Body
        </div>
    </main>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">üóô</a>
</div>

@code {
    private bool isOpen;

    private void ToggleMenu() => isOpen = !isOpen;

    private void CloseMenu() => isOpen = false;
}
